{"version":3,"sources":["redux/actions/user.js","pages/Login.jsx","pages/NotFound.jsx","assets/images/logout.png","assets/images/cart.png","components/Header.jsx","components/Card.jsx","assets/images/close.svg","assets/images/add.svg","assets/images/minus.svg","redux/actions/cart.js","components/CartItem.jsx","components/PrivateRouter.jsx","redux/actions/catalog.js","pages/Catalog.jsx","components/CartModal.jsx","pages/Cart.jsx","assets/images/empty-cart.png","pages/Detail.jsx","App.jsx","redux/reducers/catalog.js","redux/reducers/user.js","redux/reducers/cart.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["SET_USER","LOGOUT","addUser","userName","dispatch","axios","post","username","then","response","data","localStorage","setItem","JSON","stringify","type","payload","catch","logout","removeItem","Login","useDispatch","useState","login","setLogin","loginError","setLoginError","className","src","alt","htmlFor","placeholder","id","value","onChange","target","valueLength","length","disabled","onClick","NotFound","to","Header","useSelector","state","user","avatar","aria-hidden","logoutPng","cartPng","Card","book","price","author","title","cover","ADD_BOOK_TO_CART","REMOVE_BOOK_FROM_CART","CLEAR_CART","INCREASE_COUNT_OF_BOOK","DECREASE_COUNT_OF_BOOK","clearCart","CartItem","item","totalCount","totalPrice","name","closeSvg","aria-label","count","addSvg","minusSvg","toFixed","PrivateRoute","Component","component","rest","token","obj","render","props","isLogin","GET_BOOKS_STARTED","GET_BOOKS_SUCCESS","GET_BOOKS_FAILURE","getCalendarData","get","headers","Authorization","getBooksSuccess","message","Detail","books","search","setSearch","select","setSelect","useEffect","isLoading","filter","toLowerCase","includes","trim","checkPrice","map","CartModal","isPopupOpen","handleCloseModal","cart","undefined","Cart","setIsPopupOpen","isOverlayOpen","setIsOverlayOpen","history","useHistory","useParams","isInCart","find","setBook","setIsLoading","fetchData","useCallback","finally","tags","tag","description","cartItem","push","App","basename","process","exact","path","Catalog","initialState","error","catalogReducer","action","getItem","parse","userReducer","getTotalCount","arr","reduce","sum","getTotalPrice","cartReducer","newBooksArr","bookItem","index","indexOf","newBookItem","changedBookArr","rootReducer","combineReducers","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c761622.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const SET_USER = 'SET_USER';\nexport const LOGOUT = 'LOGOUT';\n\nexport const setUser = (data) => ({\n  type: SET_USER,\n  payload: data,\n});\n\nexport const addUser = (userName) => (dispatch) => {\n  axios\n    .post('https://js-band-store-api.glitch.me/signin', { username: userName })\n    .then((response) => {\n      localStorage.setItem('user', JSON.stringify(response.data));\n      dispatch(setUser(response.data));\n    })\n    .catch(() => {});\n};\n\nexport const logout = () => {\n  localStorage.removeItem('user');\n  return {\n    type: LOGOUT,\n  };\n};\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { addUser } from '../redux/actions/user';\n\nconst MIN_LENGTH = 4;\nconst MAX_LENGTH = 16;\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const [login, setLogin] = useState('');\n  const [loginError, setLoginError] = useState(true);\n\n  const handleChangeLogin = ({ target }) => {\n    const valueLength = target.value.length;\n    const validLength = MIN_LENGTH < valueLength && valueLength < MAX_LENGTH;\n    setLoginError(!validLength);\n    setLogin(target.value);\n  };\n\n  const handleLogin = () => {\n    dispatch(addUser(login));\n  };\n\n  return (\n    <div className=\"login\">\n      <img\n        className=\"login__image\"\n        src=\"https://images.pexels.com/photos/4769487/pexels-photo-4769487.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\"\n        alt=\"img\"\n      />\n      <h1 className=\"login__title\">JS Band Store</h1>\n      <form className=\"login__form\">\n        <label className=\"login__input-label\" htmlFor=\"login\">\n          Name\n          <input\n            className=\"login__input\"\n            type=\"text\"\n            placeholder=\"Enter your name\"\n            id=\"login\"\n            value={login}\n            onChange={handleChangeLogin}\n          />\n        </label>\n        <button className=\"login__btn\" type=\"button\" disabled={loginError} onClick={handleLogin}>\n          Continue\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFound = () => (\n  <div className=\"not-found\">\n    <h1 className=\"not-found__title\">Oops!</h1>\n    <div className=\"not-found__content\">\n      <span className=\"not-found__span\">404 Error - Page Not Found</span>\n      <p className=\"not-found__text\">\n        Lorem ipsum dolor sit amet, consectetur adipisicing elit.Ab, debitisdeserunt dolore enim et,\n        fugiat ipsa natus obcaecati pariatur, quo rem sint sunt tenetur ullam vitae. Ab ad\n        asperiores voluptatem?\n      </p>\n      <Link to=\"/catalog\" className=\"not-found__btn\">\n        Go To Homepage\n      </Link>\n    </div>\n  </div>\n);\n\nexport default NotFound;\n","export default __webpack_public_path__ + \"static/media/logout.0becdbc3.png\";","export default __webpack_public_path__ + \"static/media/cart.80367712.png\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport logoutPng from '../assets/images/logout.png';\nimport cartPng from '../assets/images/cart.png';\nimport { logout } from '../redux/actions/user';\n\nconst Header = () => {\n  const { username, avatar } = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/catalog\" className=\"header__logo\">\n        B<span className=\"header__logo-element\">ook</span>S\n        <span className=\"header__logo-element\">hop</span>\n      </Link>\n      <div className=\"header__info\">\n        <div className=\"header__exit\" onClick={handleLogout} aria-hidden>\n          <img className=\"header__exit-image\" src={logoutPng} alt=\"logout\" />\n          <span className=\"header__exit-label\">Logout</span>\n        </div>\n        <Link to=\"/cart\" className=\"header__cart\">\n          <img className=\"header__cart-image\" src={cartPng} alt=\"cart\" />\n          <span className=\"header__cart-label\">Cart</span>\n        </Link>\n        <div className=\"header__user\">\n          <img className=\"header__user-image\" src={avatar} alt={`${username} avatar`} />\n          <p className=\"header__user-name\">{username}</p>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Card = ({ book }) => {\n  const { id, price, author, title, cover } = book;\n\n  return (\n    <article className=\"card\" key={id}>\n      <Link to={`/catalog/${id}`}>\n        <div className=\"card__header\">\n          <img className=\"card__image\" src={cover} alt=\"card item\" />\n        </div>\n        <div className=\"card__content\">\n          <h2 className=\"card__title\">{title}</h2>\n          <span className=\"card__price\">{`Price: ${price}$`}</span>\n          <span className=\"card__author\">{author}</span>\n        </div>\n      </Link>\n    </article>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/close.79bd8e40.svg\";","export default __webpack_public_path__ + \"static/media/add.c6f2e133.svg\";","export default __webpack_public_path__ + \"static/media/minus.088c3818.svg\";","export const ADD_BOOK_TO_CART = 'ADD_BOOK_TO_CART';\nexport const REMOVE_BOOK_FROM_CART = 'REMOVE_BOOK_FROM_CART';\nexport const CLEAR_CART = 'CLEAR_CART';\nexport const INCREASE_COUNT_OF_BOOK = 'INCREASE_COUNT_OF_BOOK';\nexport const DECREASE_COUNT_OF_BOOK = 'DECREASE_COUNT_OF_BOOK';\n\nexport const addBookToCart = (data) => ({\n  type: ADD_BOOK_TO_CART,\n  payload: data,\n});\n\nexport const removeBookFromCart = (id) => ({\n  type: REMOVE_BOOK_FROM_CART,\n  payload: id,\n});\n\nexport const increaseCountOfBook = (id) => ({\n  type: INCREASE_COUNT_OF_BOOK,\n  payload: id,\n});\n\nexport const decreaseCountOfBook = (id) => ({\n  type: DECREASE_COUNT_OF_BOOK,\n  payload: id,\n});\n\nexport const clearCart = () => ({\n  type: CLEAR_CART,\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport closeSvg from '../assets/images/close.svg';\nimport addSvg from '../assets/images/add.svg';\nimport minusSvg from '../assets/images/minus.svg';\nimport {\n  decreaseCountOfBook,\n  increaseCountOfBook,\n  removeBookFromCart,\n} from '../redux/actions/cart';\n\nconst CartItem = ({ item }) => {\n  const dispatch = useDispatch();\n  const { book, totalCount, totalPrice } = item;\n\n  const handleRemoveItem = () => {\n    dispatch(removeBookFromCart(item.book.id));\n  };\n\n  const handleIncreaseBook = () => {\n    dispatch(increaseCountOfBook(item.book.id));\n  };\n\n  const handleDecreaseBook = () => {\n    dispatch(decreaseCountOfBook(item.book.id));\n  };\n\n  return (\n    <div className=\"cart-item\">\n      <button className=\"cart-item__btn\" type=\"button\" name=\"button\" onClick={handleRemoveItem}>\n        <img src={closeSvg} alt=\"close\" aria-label=\"remove item from cart\" />\n      </button>\n      <Link to={`/catalog/${book.id}`} className=\"cart-item__link\">\n        <img className=\"cart-item__image\" src={book.cover} alt=\"cart item\" />\n      </Link>\n      <div className=\"cart-item__content\">\n        <p className=\"cart-item__title\">{book.title}</p>\n        <div className=\"cart-item__bottom\">\n          <div className=\"cart-item__quantity\">\n            <button\n              className=\"cart-item__add-btn\"\n              type=\"button\"\n              name=\"button\"\n              disabled={book.count <= totalCount}\n              onClick={handleIncreaseBook}\n            >\n              <img src={addSvg} alt=\"increase item in cart\" />\n            </button>\n            <span className=\"cart-item__total-count\">{totalCount}</span>\n            <button\n              className=\"cart-item__minus-btn\"\n              type=\"button\"\n              name=\"button\"\n              disabled={totalCount <= 1}\n              onClick={handleDecreaseBook}\n            >\n              <img src={minusSvg} alt=\"decrease item in cart\" />\n            </button>\n          </div>\n          <span className=\"cart-item__total-price\">{`${totalPrice.toFixed(2)}$`}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartItem;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { token } = useSelector((state) => state.user);\n  const obj = { ...rest };\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (obj.isLogin) {\n          return token ? <Redirect to=\"/catalog\" /> : <Component />;\n        }\n        return token ? <Component {...props} /> : <Redirect to=\"/login\" />;\n      }}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import axios from 'axios';\nimport { logout } from './user';\n\nexport const GET_BOOKS_STARTED = 'GET_BOOKS_STARTED';\nexport const GET_BOOKS_SUCCESS = 'GET_BOOKS_SUCCESS';\nexport const GET_BOOKS_FAILURE = 'GET_BOOKS_FAILURE';\n\nexport const getBooksStarted = () => ({\n  type: GET_BOOKS_STARTED,\n});\n\nexport const getBooksSuccess = (data) => ({\n  type: GET_BOOKS_SUCCESS,\n  payload: data,\n});\n\nexport const getBooksFailure = (error) => ({\n  type: GET_BOOKS_FAILURE,\n  payload: error,\n});\n\nexport const getCalendarData = (token) => (dispatch) => {\n  dispatch(getBooksStarted());\n  return axios\n    .get('https://js-band-store-api.glitch.me/books', {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n    .then(({ data }) => dispatch(getBooksSuccess(data)))\n    .catch(({ message }) => {\n      dispatch(getBooksFailure(message));\n      dispatch(logout());\n    });\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Card, Header } from '../components';\nimport { getCalendarData } from '../redux/actions/catalog';\n\nconst Detail = () => {\n  const { user, books } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const [search, setSearch] = useState('');\n  const [select, setSelect] = useState('0');\n\n  const checkPrice = (book) => {\n    const { price } = book;\n    if (select === '0') return book;\n    if (select === '1' && price < 25) return book;\n    if (select === '2' && price >= 25 && price <= 50) return book;\n    if (select === '3' && price > 50) return book;\n    return null;\n  };\n\n  const handleChangeSearch = ({ target }) => {\n    setSearch(target.value);\n  };\n\n  const handleChangeSelect = ({ target }) => {\n    setSelect(target.value);\n  };\n\n  useEffect(() => {\n    dispatch(getCalendarData(user.token));\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <nav className=\"nav\">\n        <select className=\"nav__select\" value={select} onChange={handleChangeSelect}>\n          <option value=\"0\">all</option>\n          <option value=\"1\">less then 25</option>\n          <option value=\"2\">more then 25 less then 50</option>\n          <option value=\"3\">more then 50</option>\n        </select>\n        <input\n          className=\"nav__input\"\n          type=\"text\"\n          placeholder=\"Search...\"\n          value={search}\n          onChange={handleChangeSearch}\n        />\n      </nav>\n      <div className=\"catalog\">\n        <h2 className=\"catalog__title\">Catalog</h2>\n        {books.isLoading ? (\n          <span>loading...</span>\n        ) : (\n          <div className=\"catalog__content\">\n            {books.data\n              .filter((book) => book.title.toLowerCase().includes(search.toLowerCase().trim()))\n              .filter((book) => checkPrice(book))\n              .map((book) => (\n                <Card book={book} key={book.id} />\n              ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Detail;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport closeSvg from '../assets/images/close.svg';\n\nconst CartModal = ({ isPopupOpen, handleCloseModal }) => {\n  const { books, totalPrice } = useSelector((state) => state.cart);\n\n  return (\n    <div className={`cart-modal ${isPopupOpen ? 'cart-modal_active' : undefined}`}>\n      <button className=\"cart-modal__btn\" type=\"button\" name=\"button\" onClick={handleCloseModal}>\n        <img src={closeSvg} alt=\"close\" aria-label=\"remove item from cart\" />\n      </button>\n      <h3 className=\"cart-modal__title\">You successfully placed an order!</h3>\n      <div className=\"cart-modal__table-wrapper\">\n        <table className=\"cart-modal__table\">\n          <thead>\n            <tr>\n              <th className=\"cart-modal__table-th\">Title</th>\n              <th className=\"cart-modal__table-th\">Count</th>\n              <th className=\"cart-modal__table-th\">Price</th>\n              <th className=\"cart-modal__table-th\">Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {books.map((item) => (\n              <tr key={item.book.id}>\n                <td className=\"cart-modal__table-td\">{item.book.title}</td>\n                <td className=\"cart-modal__table-td\">{item.totalCount}</td>\n                <td className=\"cart-modal__table-td\">{`${item.book.price}$`}</td>\n                <td className=\"cart-modal__table-td\">{`${item.totalPrice.toFixed(2)}$`}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"cart-modal__total-price\">{`Total: ${totalPrice.toFixed(2)}$`}</div>\n    </div>\n  );\n};\n\nexport default CartModal;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\n\nimport { CartItem, Header } from '../components';\nimport { clearCart } from '../redux/actions/cart';\nimport emptyPng from '../assets/images/empty-cart.png';\nimport CartModal from '../components/CartModal';\n\nconst Cart = () => {\n  const { user, cart } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const [isOverlayOpen, setIsOverlayOpen] = useState(false);\n\n  const handleClearCart = () => {\n    dispatch(clearCart());\n  };\n\n  const handleCloseModal = () => {\n    setIsPopupOpen(false);\n    setIsOverlayOpen(false);\n    dispatch(clearCart());\n  };\n\n  const handlePurchase = () => {\n    const books = JSON.stringify(cart.books);\n    const headers = { Authorization: `Bearer ${user.token}` };\n    setIsPopupOpen(true);\n    setIsOverlayOpen(true);\n    axios\n      .post('https://js-band-store-api.glitch.me/purchase', { books }, { headers })\n      .then(() => {})\n      .catch(() => {});\n  };\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <div className=\"cart\">\n        <h2 className=\"cart__title\">Cart</h2>\n        {cart.totalCount ? (\n          <div className=\"cart__content\">\n            <div className=\"cart__list\">\n              {cart.books.map((item) => (\n                <CartItem item={item} key={item.book.id} />\n              ))}\n            </div>\n            <div className=\"cart__bottom\">\n              <p>{`Total: ${cart.totalPrice.toFixed(2)}$`}</p>\n              <div className=\"cart__buttons\">\n                <button className=\"cart__btn\" type=\"button\" onClick={handleClearCart}>\n                  Clear cart\n                </button>\n                <button className=\"cart__btn\" type=\"button\" onClick={handlePurchase}>\n                  Purchase\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"cart__empty\">\n            <img className=\"cart__empty-image\" src={emptyPng} alt=\"empty cart\" />\n            <p className=\"cart__empty-text\">Cart empty...</p>\n          </div>\n        )}\n        <CartModal isPopupOpen={isPopupOpen} handleCloseModal={handleCloseModal} />\n      </div>\n      <div\n        className={`overlay ${isOverlayOpen ? 'overlay_active' : undefined}`}\n        onClick={handleCloseModal}\n        aria-hidden\n      />\n    </div>\n  );\n};\n\nexport default Cart;\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useHistory, Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\n\nimport { Header } from '../components';\nimport { addBookToCart } from '../redux/actions/cart';\n\nconst Detail = () => {\n  const { cart, user } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { id } = useParams();\n  const isInCart = cart.books.find((item) => item.book.id === id);\n\n  const [book, setBook] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  const handleAddBookToCart = () => {\n    const cartItem = {\n      book,\n      totalCount: 1,\n      totalPrice: book.price,\n    };\n    dispatch(addBookToCart(cartItem));\n    history.push('/cart');\n  };\n\n  const fetchData = useCallback(() => {\n    axios\n      .get(`https://js-band-store-api.glitch.me/books/${id}`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      })\n      .then((response) => setBook(response.data))\n      .catch(() => {})\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <div className=\"detail\">\n        <h2 className=\"detail__title\">Detail</h2>\n        {isLoading ? (\n          <span>loading...</span>\n        ) : (\n          <div className=\"detail__content\">\n            <div className=\"detail__image-container\">\n              <img className=\"detail__image\" src={book.cover} alt={book.title} />\n            </div>\n            <div className=\"detail__info\">\n              <h1 className=\"detail__info-title\">{book.title}</h1>\n              <div className=\"detail__info-tags\">\n                {book.tags.map((tag) => (\n                  <span className=\"detail__info-tag\" key={tag}>\n                    {tag}\n                  </span>\n                ))}\n              </div>\n              <p className=\"detail__info-author\">{book.author}</p>\n              <p className=\"detail__info-description\">{book.description}</p>\n              <div className=\"detail__footer\">\n                <p className=\"detail__info-price\">{`Price: ${book.price}$`}</p>\n                {isInCart ? (\n                  <Link to=\"/cart\">The book is already in the cart.</Link>\n                ) : (\n                  <button className=\"detail__btn\" type=\"button\" onClick={handleAddBookToCart}>\n                    Add to cart\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Detail;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { Cart, Catalog, Detail, Login, NotFound } from './pages';\nimport { PrivateRoute } from './components';\n\nconst App = () => (\n  <div className=\"wrapper\">\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <PrivateRoute exact path=\"/catalog\" component={Catalog} />\n        <PrivateRoute exact path=\"/catalog/:id\" component={Detail} />\n        <PrivateRoute exact path=\"/cart\" component={Cart} />\n        <PrivateRoute exact path=\"/catalog/:id\" component={Detail} />\n        <PrivateRoute exact path=\"/login\" component={Login} isLogin />\n        <Route exact path=\"*\" component={NotFound} />\n      </Switch>\n    </Router>\n  </div>\n);\n\nexport default App;\n","import { GET_BOOKS_FAILURE, GET_BOOKS_STARTED, GET_BOOKS_SUCCESS } from '../actions/catalog';\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  error: null,\n};\n\nconst catalogReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_BOOKS_STARTED:\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case GET_BOOKS_SUCCESS:\n      return {\n        data: action.payload,\n        isLoading: false,\n        error: null,\n      };\n    case GET_BOOKS_FAILURE:\n      return {\n        data: [],\n        isLoading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default catalogReducer;\n","import { LOGOUT, SET_USER } from '../actions/user';\n\nconst initialState = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : {};\n\nconst userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER:\n      return action.payload;\n    case LOGOUT:\n      return {};\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import {\n  ADD_BOOK_TO_CART,\n  CLEAR_CART,\n  DECREASE_COUNT_OF_BOOK,\n  INCREASE_COUNT_OF_BOOK,\n  REMOVE_BOOK_FROM_CART,\n} from '../actions/cart';\n\nconst getTotalCount = (arr) => arr.reduce((sum, book) => book.totalCount + sum, 0);\n\nconst getTotalPrice = (arr) => arr.reduce((sum, book) => book.totalPrice + sum, 0);\n\nconst initialState = {\n  books: [],\n  totalCount: 0,\n  totalPrice: 0,\n};\n\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_BOOK_TO_CART:\n      return {\n        books: [...state.books, action.payload],\n        totalCount: getTotalCount([...state.books, action.payload]),\n        totalPrice: getTotalPrice([...state.books, action.payload]),\n      };\n    case REMOVE_BOOK_FROM_CART: {\n      const newBooksArr = [...state.books].filter((item) => item.book.id !== action.payload);\n      return {\n        books: newBooksArr,\n        totalCount: getTotalCount(newBooksArr),\n        totalPrice: getTotalPrice(newBooksArr),\n      };\n    }\n    case INCREASE_COUNT_OF_BOOK: {\n      const bookItem = [...state.books].find((item) => item.book.id === action.payload);\n      const index = [...state.books].indexOf(bookItem);\n\n      const newBookItem = {\n        book: bookItem.book,\n        totalCount: bookItem.totalCount + 1,\n        totalPrice: bookItem.totalPrice + bookItem.book.price,\n      };\n\n      const changedBookArr = [...state.books];\n      changedBookArr[index] = newBookItem;\n\n      return {\n        books: changedBookArr,\n        totalCount: getTotalCount(changedBookArr),\n        totalPrice: getTotalPrice(changedBookArr),\n      };\n    }\n    case DECREASE_COUNT_OF_BOOK: {\n      const bookItem = [...state.books].find((item) => item.book.id === action.payload);\n      const index = [...state.books].indexOf(bookItem);\n\n      const newBookItem = {\n        book: bookItem.book,\n        totalCount: bookItem.totalCount - 1,\n        totalPrice: bookItem.totalPrice - bookItem.book.price,\n      };\n\n      const changedBookArr = [...state.books];\n      changedBookArr[index] = newBookItem;\n\n      return {\n        books: changedBookArr,\n        totalCount: getTotalCount(changedBookArr),\n        totalPrice: getTotalPrice(changedBookArr),\n      };\n    }\n    case CLEAR_CART:\n      return {\n        books: [],\n        totalCount: 0,\n        totalPrice: 0,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import { combineReducers } from 'redux';\n\nimport catalogReducer from './catalog';\nimport userReducer from './user';\nimport cartReducer from './cart';\n\nconst rootReducer = combineReducers({\n  books: catalogReducer,\n  user: userReducer,\n  cart: cartReducer,\n});\n\nexport default rootReducer;\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\nconst store = createStore(rootReducer, enhancer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport './assets/scss/index.scss';\nimport App from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}