(this["webpackJsonpreact-book-shop"]=this["webpackJsonpreact-book-shop"]||[]).push([[0],{49:function(A,t,e){},72:function(A,t,e){"use strict";e.r(t);var a=e(1),c=e.n(a),o=e(19),n=e.n(o),s=e(3),i=(e(49),e(5)),l=e(4),r=e(10),d=e(13),j=e.n(d),b="SET_USER",u="LOGOUT",h=function(A){return function(t){j.a.post("https://js-band-store-api.glitch.me/signin",{username:A}).then((function(A){var e;localStorage.setItem("user",JSON.stringify(A.data)),t((e=A.data,{type:b,payload:e}))})).catch((function(){}))}},m=function(){return localStorage.removeItem("user"),{type:u}},O=e(0),p=function(){var A=Object(s.b)(),t=Object(a.useState)(""),e=Object(r.a)(t,2),c=e[0],o=e[1],n=Object(a.useState)(!0),i=Object(r.a)(n,2),l=i[0],d=i[1];return Object(O.jsxs)("div",{className:"login",children:[Object(O.jsx)("img",{className:"login__image",src:"https://images.pexels.com/photos/4769487/pexels-photo-4769487.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",alt:"img"}),Object(O.jsx)("h1",{className:"login__title",children:"JS Band Store"}),Object(O.jsxs)("form",{className:"login__form",children:[Object(O.jsxs)("label",{className:"login__input-label",htmlFor:"login",children:["Name",Object(O.jsx)("input",{className:"login__input",type:"text",placeholder:"Enter your name",id:"login",value:c,onChange:function(A){var t=A.target,e=t.value.length;d(!(4<e&&e<16)),o(t.value)}})]}),Object(O.jsx)("button",{className:"login__btn",type:"button",disabled:l,onClick:function(){A(h(c))},children:"Continue"})]})]})},g=function(){return Object(O.jsxs)("div",{className:"not-found",children:[Object(O.jsx)("h1",{className:"not-found__title",children:"Oops!"}),Object(O.jsxs)("div",{className:"not-found__content",children:[Object(O.jsx)("span",{className:"not-found__span",children:"404 Error - Page Not Found"}),Object(O.jsx)("p",{className:"not-found__text",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.Ab, debitisdeserunt dolore enim et, fugiat ipsa natus obcaecati pariatur, quo rem sint sunt tenetur ullam vitae. Ab ad asperiores voluptatem?"}),Object(O.jsx)(i.b,{to:"/catalog",className:"not-found__btn",children:"Go To Homepage"})]})]})},x=e.p+"static/media/logout.0becdbc3.png",N=e.p+"static/media/cart.80367712.png",U=function(){var A=Object(s.c)((function(A){return A.user})),t=A.username,e=A.avatar,a=Object(s.b)();return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsxs)(i.b,{to:"/catalog",className:"header__logo",children:["B",Object(O.jsx)("span",{className:"header__logo-element",children:"ook"}),"S",Object(O.jsx)("span",{className:"header__logo-element",children:"hop"})]}),Object(O.jsxs)("div",{className:"header__info",children:[Object(O.jsxs)("div",{className:"header__exit",onClick:function(){a(m())},"aria-hidden":!0,children:[Object(O.jsx)("img",{className:"header__exit-image",src:x,alt:"logout"}),Object(O.jsx)("span",{className:"header__exit-label",children:"Logout"})]}),Object(O.jsxs)(i.b,{to:"/cart",className:"header__cart",children:[Object(O.jsx)("img",{className:"header__cart-image",src:N,alt:"cart"}),Object(O.jsx)("span",{className:"header__cart-label",children:"Cart"})]}),Object(O.jsxs)("div",{className:"header__user",children:[Object(O.jsx)("img",{className:"header__user-image",src:e,alt:"".concat(t," avatar")}),Object(O.jsx)("p",{className:"header__user-name",children:t})]})]})]})},f=function(A){var t=A.book,e=t.id,a=t.price,c=t.author,o=t.title,n=t.cover;return Object(O.jsx)("article",{className:"card",children:Object(O.jsxs)(i.b,{to:"/catalog/".concat(e),children:[Object(O.jsx)("div",{className:"card__header",children:Object(O.jsx)("img",{className:"card__image",src:n,alt:"card item"})}),Object(O.jsxs)("div",{className:"card__content",children:[Object(O.jsx)("h2",{className:"card__title",children:o}),Object(O.jsx)("span",{className:"card__price",children:"Price: ".concat(a,"$")}),Object(O.jsx)("span",{className:"card__author",children:c})]})]})},e)},v=e.p+"static/media/close.79bd8e40.svg",C=e.p+"static/media/add.c6f2e133.svg",S=e.p+"static/media/minus.088c3818.svg",k="ADD_BOOK_TO_CART",y="REMOVE_BOOK_FROM_CART",E="CLEAR_CART",Q="INCREASE_COUNT_OF_BOOK",K="DECREASE_COUNT_OF_BOOK",J=function(){return{type:E}},_=function(A){var t=A.item,e=Object(s.b)(),a=t.book,c=t.totalCount,o=t.totalPrice;return Object(O.jsxs)("div",{className:"cart-item",children:[Object(O.jsx)("button",{className:"cart-item__btn",type:"button",name:"button",onClick:function(){var A;e((A=t.book.id,{type:y,payload:A}))},children:Object(O.jsx)("img",{src:v,alt:"close","aria-label":"remove item from cart"})}),Object(O.jsx)(i.b,{to:"/catalog/".concat(a.id),className:"cart-item__link",children:Object(O.jsx)("img",{className:"cart-item__image",src:a.cover,alt:"cart item"})}),Object(O.jsxs)("div",{className:"cart-item__content",children:[Object(O.jsx)("p",{className:"cart-item__title",children:a.title}),Object(O.jsxs)("div",{className:"cart-item__bottom",children:[Object(O.jsxs)("div",{className:"cart-item__quantity",children:[Object(O.jsx)("button",{className:"cart-item__add-btn",type:"button",name:"button",disabled:a.count<=c,onClick:function(){var A;e((A=t.book.id,{type:Q,payload:A}))},children:Object(O.jsx)("img",{src:C,alt:"increase item in cart"})}),Object(O.jsx)("span",{className:"cart-item__total-count",children:c}),Object(O.jsx)("button",{className:"cart-item__minus-btn",type:"button",name:"button",disabled:c<=1,onClick:function(){var A;e((A=t.book.id,{type:K,payload:A}))},children:Object(O.jsx)("img",{src:S,alt:"decrease item in cart"})})]}),Object(O.jsx)("span",{className:"cart-item__total-price",children:"".concat(o.toFixed(2),"$")})]})]})]})},F=e(15),T=e(38),D=function(A){var t=A.component,e=Object(T.a)(A,["component"]),a=Object(s.c)((function(A){return A.user})).token,c=Object(F.a)({},e);return Object(O.jsx)(l.b,Object(F.a)(Object(F.a)({},e),{},{render:function(A){return c.isLogin?a?Object(O.jsx)(l.a,{to:"/catalog"}):Object(O.jsx)(t,{}):a?Object(O.jsx)(t,Object(F.a)({},A)):Object(O.jsx)(l.a,{to:"/login"})}}))},I="GET_BOOKS_STARTED",Z="GET_BOOKS_SUCCESS",R="GET_BOOKS_FAILURE",P=function(A){return function(t){return t({type:I}),j.a.get("https://js-band-store-api.glitch.me/books",{headers:{Authorization:"Bearer ".concat(A)}}).then((function(A){var e=A.data;return t(function(A){return{type:Z,payload:A}}(e))})).catch((function(A){var e=A.message;t({type:R,payload:e}),t(m())}))}},L=function(){var A=Object(s.c)((function(A){return A})),t=A.user,e=A.books,c=Object(s.b)(),o=Object(a.useState)(""),n=Object(r.a)(o,2),i=n[0],l=n[1],d=Object(a.useState)("0"),j=Object(r.a)(d,2),b=j[0],u=j[1];return Object(a.useEffect)((function(){c(P(t.token))}),[]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(U,{}),Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsxs)("select",{className:"nav__select",value:b,onChange:function(A){var t=A.target;u(t.value)},children:[Object(O.jsx)("option",{value:"0",children:"all"}),Object(O.jsx)("option",{value:"1",children:"less then 25"}),Object(O.jsx)("option",{value:"2",children:"more then 25 less then 50"}),Object(O.jsx)("option",{value:"3",children:"more then 50"})]}),Object(O.jsx)("input",{className:"nav__input",type:"text",placeholder:"Search...",value:i,onChange:function(A){var t=A.target;l(t.value)}})]}),Object(O.jsxs)("div",{className:"catalog",children:[Object(O.jsx)("h2",{className:"catalog__title",children:"Catalog"}),e.isLoading?Object(O.jsx)("span",{children:"loading..."}):Object(O.jsx)("div",{className:"catalog__content",children:e.data.filter((function(A){return A.title.toLowerCase().includes(i.toLowerCase().trim())})).filter((function(A){return function(A){var t=A.price;return"0"===b||"1"===b&&t<25||"2"===b&&t>=25&&t<=50||"3"===b&&t>50?A:null}(A)})).map((function(A){return Object(O.jsx)(f,{book:A},A.id)}))})]})]})},G=function(A){var t=A.isPopupOpen,e=A.handleCloseModal,a=Object(s.c)((function(A){return A.cart})),c=a.books,o=a.totalPrice;return Object(O.jsxs)("div",{className:"cart-modal ".concat(t?"cart-modal_active":void 0),children:[Object(O.jsx)("button",{className:"cart-modal__btn",type:"button",name:"button",onClick:e,children:Object(O.jsx)("img",{src:v,alt:"close","aria-label":"remove item from cart"})}),Object(O.jsx)("h3",{className:"cart-modal__title",children:"You successfully placed an order!"}),Object(O.jsx)("div",{className:"cart-modal__table-wrapper",children:Object(O.jsxs)("table",{className:"cart-modal__table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Title"}),Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Count"}),Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Price"}),Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Total"})]})}),Object(O.jsx)("tbody",{children:c.map((function(A){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cart-modal__table-td",children:A.book.title}),Object(O.jsx)("td",{className:"cart-modal__table-td",children:A.totalCount}),Object(O.jsx)("td",{className:"cart-modal__table-td",children:"".concat(A.book.price,"$")}),Object(O.jsx)("td",{className:"cart-modal__table-td",children:"".concat(A.totalPrice.toFixed(2),"$")})]},A.book.id)}))})]})}),Object(O.jsx)("div",{className:"cart-modal__total-price",children:"Total: ".concat(o.toFixed(2),"$")})]})},B=function(){var A=Object(s.c)((function(A){return A})),t=A.user,e=A.cart,c=Object(s.b)(),o=Object(a.useState)(!1),n=Object(r.a)(o,2),i=n[0],l=n[1],d=Object(a.useState)(!1),b=Object(r.a)(d,2),u=b[0],h=b[1],m=function(){l(!1),h(!1),c(J())};return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(U,{}),Object(O.jsxs)("div",{className:"cart",children:[Object(O.jsx)("h2",{className:"cart__title",children:"Cart"}),e.totalCount?Object(O.jsxs)("div",{className:"cart__content",children:[Object(O.jsx)("div",{className:"cart__list",children:e.books.map((function(A){return Object(O.jsx)(_,{item:A},A.book.id)}))}),Object(O.jsxs)("div",{className:"cart__bottom",children:[Object(O.jsx)("p",{children:"Total: ".concat(e.totalPrice.toFixed(2),"$")}),Object(O.jsxs)("div",{className:"cart__buttons",children:[Object(O.jsx)("button",{className:"cart__btn",type:"button",onClick:function(){c(J())},children:"Clear cart"}),Object(O.jsx)("button",{className:"cart__btn",type:"button",onClick:function(){var A=JSON.stringify(e.books),a={Authorization:"Bearer ".concat(t.token)};l(!0),h(!0),j.a.post("https://js-band-store-api.glitch.me/purchase",{books:A},{headers:a}).then((function(){})).catch((function(){}))},children:"Purchase"})]})]})]}):Object(O.jsxs)("div",{className:"cart__empty",children:[Object(O.jsx)("img",{className:"cart__empty-image",src:"data:image/png;base64,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",alt:"empty cart"}),Object(O.jsx)("p",{className:"cart__empty-text",children:"Cart empty..."})]}),Object(O.jsx)(G,{isPopupOpen:i,handleCloseModal:m})]}),Object(O.jsx)("div",{className:"overlay ".concat(u?"overlay_active":void 0),onClick:m,"aria-hidden":!0})]})},q=function(){var A=Object(s.c)((function(A){return A})),t=A.cart,e=A.user,c=Object(s.b)(),o=Object(l.g)(),n=Object(l.h)().id,d=t.books.find((function(A){return A.book.id===n})),b=Object(a.useState)({}),u=Object(r.a)(b,2),h=u[0],m=u[1],p=Object(a.useState)(!0),g=Object(r.a)(p,2),x=g[0],N=g[1],f=Object(a.useCallback)((function(){j.a.get("https://js-band-store-api.glitch.me/books/".concat(n),{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(A){return m(A.data)})).catch((function(){})).finally((function(){return N(!1)}))}),[]);return Object(a.useEffect)((function(){f()}),[f]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(U,{}),Object(O.jsxs)("div",{className:"detail",children:[Object(O.jsx)("h2",{className:"detail__title",children:"Detail"}),x?Object(O.jsx)("span",{children:"loading..."}):Object(O.jsxs)("div",{className:"detail__content",children:[Object(O.jsx)("div",{className:"detail__image-container",children:Object(O.jsx)("img",{className:"detail__image",src:h.cover,alt:h.title})}),Object(O.jsxs)("div",{className:"detail__info",children:[Object(O.jsx)("h1",{className:"detail__info-title",children:h.title}),Object(O.jsx)("div",{className:"detail__info-tags",children:h.tags.map((function(A){return Object(O.jsx)("span",{className:"detail__info-tag",children:A},A)}))}),Object(O.jsx)("p",{className:"detail__info-author",children:h.author}),Object(O.jsx)("p",{className:"detail__info-description",children:h.description}),Object(O.jsxs)("div",{className:"detail__footer",children:[Object(O.jsx)("p",{className:"detail__info-price",children:"Price: ".concat(h.price,"$")}),d?Object(O.jsx)(i.b,{to:"/cart",children:"The book is already in the cart."}):Object(O.jsx)("button",{className:"detail__btn",type:"button",onClick:function(){var A={book:h,totalCount:1,totalPrice:h.price};c({type:k,payload:A}),o.push("/cart")},children:"Add to cart"})]})]})]})]})]})},W=function(){return Object(O.jsx)("div",{className:"wrapper",children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(D,{exact:!0,path:"/catalog",component:L}),Object(O.jsx)(D,{exact:!0,path:"/catalog/:id",component:q}),Object(O.jsx)(D,{exact:!0,path:"/cart",component:B}),Object(O.jsx)(D,{exact:!0,path:"/catalog/:id",component:q}),Object(O.jsx)(D,{exact:!0,path:"/login",component:p,isLogin:!0}),Object(O.jsx)(l.b,{exact:!0,path:"*",render:function(){return Object(O.jsx)(g,{})}})]})})})},w=e(14),V=e(37),M={data:[],isLoading:!1,error:null},H=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(F.a)(Object(F.a)({},A),{},{isLoading:!0});case Z:return{data:t.payload,isLoading:!1,error:null};case R:return{data:[],isLoading:!1,error:t.payload};default:return A}},Y=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},X=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload;case u:return{};default:return A}},z=e(12),$=function(A){return A.reduce((function(A,t){return t.totalCount+A}),0)},AA=function(A){return A.reduce((function(A,t){return t.totalPrice+A}),0)},tA={books:[],totalCount:0,totalPrice:0},eA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tA,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{books:[].concat(Object(z.a)(A.books),[t.payload]),totalCount:$([].concat(Object(z.a)(A.books),[t.payload])),totalPrice:AA([].concat(Object(z.a)(A.books),[t.payload]))};case y:var e=Object(z.a)(A.books).filter((function(A){return A.book.id!==t.payload}));return{books:e,totalCount:$(e),totalPrice:AA(e)};case Q:var a=Object(z.a)(A.books).find((function(A){return A.book.id===t.payload})),c=Object(z.a)(A.books).indexOf(a),o={book:a.book,totalCount:a.totalCount+1,totalPrice:a.totalPrice+a.book.price},n=Object(z.a)(A.books);return n[c]=o,{books:n,totalCount:$(n),totalPrice:AA(n)};case K:var s=Object(z.a)(A.books).find((function(A){return A.book.id===t.payload})),i=Object(z.a)(A.books).indexOf(s),l={book:s.book,totalCount:s.totalCount-1,totalPrice:s.totalPrice-s.book.price},r=Object(z.a)(A.books);return r[i]=l,{books:r,totalCount:$(r),totalPrice:AA(r)};case E:return{books:[],totalCount:0,totalPrice:0};default:return A}},aA=Object(w.c)({books:H,user:X,cart:eA}),cA=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):w.d)(Object(w.a)(V.a)),oA=Object(w.e)(aA,cA);n.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(s.a,{store:oA,children:Object(O.jsx)(W,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.d3abd126.chunk.js.map