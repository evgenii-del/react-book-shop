(this["webpackJsonpreact-book-shop"]=this["webpackJsonpreact-book-shop"]||[]).push([[0],{48:function(A,t,e){},71:function(A,t,e){"use strict";e.r(t);var a=e(1),c=e.n(a),o=e(18),s=e.n(o),n=e(3),l=(e(48),e(12)),r=e(7),i=e(4),d=e(15),j=e.n(d),b="SET_USER",u="LOGOUT",h=function(A){return function(t){j.a.post("https://js-band-store-api.glitch.me/signin",{username:A}).then((function(A){var e;localStorage.setItem("user",JSON.stringify(A.data)),t((e=A.data,{type:b,payload:e}))})).catch((function(){}))}},m=function(){return localStorage.removeItem("user"),{type:u}},O=e(0),p=function(){var A=Object(n.b)(),t=Object(a.useState)(""),e=Object(l.a)(t,2),c=e[0],o=e[1],s=Object(a.useState)(!0),r=Object(l.a)(s,2),i=r[0],d=r[1];return Object(O.jsxs)("div",{className:"login",children:[Object(O.jsx)("img",{className:"login__image",src:"https://images.pexels.com/photos/4769487/pexels-photo-4769487.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",alt:"img"}),Object(O.jsx)("h1",{className:"login__title",children:"JS Band Store"}),Object(O.jsxs)("form",{className:"login__form",children:[Object(O.jsx)("label",{className:"login__input-label",htmlFor:"login",children:"Name"}),Object(O.jsx)("input",{className:"login__input",type:"text",placeholder:"Enter your name",id:"login",value:c,onChange:function(A){var t=A.target,e=t.value.length;d(!(4<e&&e<16)),o(t.value)}}),Object(O.jsx)("button",{className:"login__btn",type:"button",disabled:i,onClick:function(){A(h(c))},children:"Continue"})]})]})},g=function(){return Object(O.jsxs)("div",{className:"not-found",children:[Object(O.jsx)("h1",{className:"not-found__title",children:"Oops!"}),Object(O.jsxs)("div",{className:"not-found__content",children:[Object(O.jsx)("span",{className:"not-found__span",children:"404 Error - Page Not Found"}),Object(O.jsx)("p",{className:"not-found__text",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.Ab, debitisdeserunt dolore enim et, fugiat ipsa natus obcaecati pariatur, quo rem sint sunt tenetur ullam vitae. Ab ad asperiores voluptatem?"}),Object(O.jsx)(r.b,{to:"/catalog",className:"not-found__btn",children:"Go To Homepage"})]})]})},x=e.p+"static/media/logout.0becdbc3.png",U=e.p+"static/media/cart.80367712.png",N=function(){var A=Object(n.c)((function(A){return A.user})),t=A.username,e=A.avatar,a=Object(n.b)();return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsxs)(r.b,{to:"/catalog",className:"header__logo",children:["B",Object(O.jsx)("span",{className:"header__logo-element",children:"ook"}),"S",Object(O.jsx)("span",{className:"header__logo-element",children:"hop"})]}),Object(O.jsxs)("div",{className:"header__info",children:[Object(O.jsxs)("div",{className:"header__exit",onClick:function(){a(m())},"aria-hidden":!0,children:[Object(O.jsx)("img",{className:"header__exit-image",src:x,alt:"logout"}),Object(O.jsx)("span",{className:"header__exit-label",children:"Logout"})]}),Object(O.jsxs)(r.b,{to:"/cart",className:"header__cart",children:[Object(O.jsx)("img",{className:"header__cart-image",src:U,alt:"cart"}),Object(O.jsx)("span",{className:"header__cart-label",children:"Cart"})]}),Object(O.jsxs)("div",{className:"header__user",children:[Object(O.jsx)("img",{className:"header__user-image",src:e,alt:"".concat(t," avatar")}),Object(O.jsx)("p",{className:"header__user-name",children:t})]})]})]})},f=function(A){var t=A.book,e=t.id,a=t.price,c=t.author,o=t.title,s=t.cover;return Object(O.jsx)("article",{className:"card",children:Object(O.jsxs)(r.b,{to:"/catalog/".concat(e),children:[Object(O.jsx)("div",{className:"card__header",children:Object(O.jsx)("img",{className:"card__image",src:s,alt:"image"})}),Object(O.jsxs)("div",{className:"card__content",children:[Object(O.jsx)("h2",{className:"card__title",children:o}),Object(O.jsx)("span",{className:"card__price",children:"Price: ".concat(a,"$")}),Object(O.jsx)("span",{className:"card__author",children:c})]})]})},e)},v=e.p+"static/media/close.79bd8e40.svg",C=e.p+"static/media/add.c6f2e133.svg",k=e.p+"static/media/minus.088c3818.svg",y="ADD_BOOK_TO_CART",S="REMOVE_BOOK_FROM_CART",E="CLEAR_CART",Q="INCREASE_COUNT_OF_BOOK",K="DECREASE_COUNT_OF_BOOK",J=function(){return{type:E}},_=function(A){var t=Object(n.b)(),e=A.item;return Object(O.jsxs)("div",{className:"cart-item",children:[Object(O.jsx)("button",{className:"cart-item__btn",type:"button",name:"button",onClick:function(){var A;t((A=e.book.id,{type:S,payload:A}))},children:Object(O.jsx)("img",{src:v,alt:"close","aria-label":"remove item from cart"})}),Object(O.jsx)(r.b,{to:"/catalog/".concat(e.book.id),className:"cart-item__link",children:Object(O.jsx)("img",{className:"cart-item__image",src:e.book.cover,alt:"image"})}),Object(O.jsxs)("div",{className:"cart-item__content",children:[Object(O.jsx)("p",{children:e.book.title}),Object(O.jsxs)("div",{className:"cart-item__bottom",children:[Object(O.jsxs)("div",{className:"cart-item__quantity",children:[Object(O.jsx)("button",{className:"cart-item__add-btn",type:"button",name:"button",disabled:e.book.count<=e.totalCount,onClick:function(){var A;t((A=e.book.id,{type:Q,payload:A}))},children:Object(O.jsx)("img",{src:C,alt:"increase item in cart"})}),Object(O.jsx)("span",{className:"cart-item__total-count",children:e.totalCount}),Object(O.jsx)("button",{className:"cart-item__minus-btn",type:"button",name:"button",disabled:e.totalCount<=1,onClick:function(){var A;t((A=e.book.id,{type:K,payload:A}))},children:Object(O.jsx)("img",{src:k,alt:"decrease item in cart"})})]}),Object(O.jsx)("span",{className:"cart-item__total-price",children:"".concat(e.totalPrice.toFixed(2),"$")})]})]})]})},F="GET_BOOKS_STARTED",T="GET_BOOKS_SUCCESS",D="GET_BOOKS_FAILURE",I=function(A){return function(t){return t({type:F}),j.a.get("https://js-band-store-api.glitch.me/books",{headers:{Authorization:"Bearer ".concat(A)}}).then((function(A){var e=A.data;return t(function(A){return{type:T,payload:A}}(e))})).catch((function(A){var e=A.message;t({type:D,payload:e}),t(m())}))}},Z=function(){var A=Object(n.c)((function(A){return A})),t=A.user,e=A.books,c=Object(n.b)(),o=Object(a.useState)(""),s=Object(l.a)(o,2),r=s[0],i=s[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),b=j[0],u=j[1];return Object(a.useEffect)((function(){c(I(t.token))}),[]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(N,{}),Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsxs)("select",{className:"nav__select",value:b,onChange:function(A){var t=A.target;u(t.value)},children:[Object(O.jsx)("option",{value:"0",children:"all"}),Object(O.jsx)("option",{value:"1",children:"less then 25"}),Object(O.jsx)("option",{value:"2",children:"more then 25 less then 50"}),Object(O.jsx)("option",{value:"3",children:"more then 50"})]}),Object(O.jsx)("input",{className:"nav__input",type:"text",placeholder:"Search...",value:r,onChange:function(A){var t=A.target;i(t.value)}})]}),Object(O.jsxs)("div",{className:"catalog",children:[Object(O.jsx)("h2",{className:"catalog__title",children:"Catalog"}),Object(O.jsx)("div",{className:"catalog__content",children:e.data.filter((function(A){return A.title.toLowerCase().includes(r.toLowerCase().trim())})).filter((function(A){return function(A){var t=A.price;switch(b){case"1":if(t<25)return A;break;case"2":if(t>=25&&t<=50)return A;break;case"3":if(t>50)return A;break;default:return A}}(A)})).map((function(A){return Object(O.jsx)(f,{book:A},A.id)}))})]})]})},R=function(A){var t=Object(n.c)((function(A){return A})).cart,e=A.isPopupOpen,a=A.handleCloseModal;return Object(O.jsxs)("div",{className:"cart-modal ".concat(e?"cart-modal_active":void 0),children:[Object(O.jsx)("button",{className:"cart-modal__btn",type:"button",name:"button",onClick:a,children:Object(O.jsx)("img",{src:v,alt:"close","aria-label":"remove item from cart"})}),Object(O.jsx)("h3",{className:"cart-modal__title",children:"You successfully placed an order!"}),Object(O.jsx)("div",{className:"cart-modal__table-wrapper",children:Object(O.jsxs)("table",{className:"cart-modal__table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Title"}),Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Count"}),Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Price"}),Object(O.jsx)("th",{className:"cart-modal__table-th",children:"Total"})]})}),Object(O.jsx)("tbody",{children:t.books.map((function(A){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"cart-modal__table-td",children:A.book.title}),Object(O.jsx)("td",{className:"cart-modal__table-td",children:A.totalCount}),Object(O.jsx)("td",{className:"cart-modal__table-td",children:"".concat(A.book.price,"$")}),Object(O.jsx)("td",{className:"cart-modal__table-td",children:"".concat(A.totalPrice.toFixed(2),"$")})]},A.book.id)}))})]})}),Object(O.jsx)("div",{className:"cart-modal__total-price",children:"Total: ".concat(t.totalPrice.toFixed(2),"$")})]})},P=function(A){var t=A.setIsOverlayOpen,e=Object(n.c)((function(A){return A})),c=e.user,o=e.cart,s=Object(n.b)(),r=Object(a.useState)(!1),i=Object(l.a)(r,2),d=i[0],b=i[1];return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(N,{}),Object(O.jsxs)("div",{className:"cart",children:[Object(O.jsx)("h2",{className:"cart__title",children:"Cart"}),o.totalCount?Object(O.jsxs)("div",{className:"cart__content",children:[Object(O.jsx)("div",{className:"cart__list",children:o.books.map((function(A){return Object(O.jsx)(_,{item:A},A.book.id)}))}),Object(O.jsxs)("div",{className:"cart__bottom",children:[Object(O.jsx)("p",{children:"Total: ".concat(o.totalPrice.toFixed(2),"$")}),Object(O.jsxs)("div",{className:"cart__buttons",children:[Object(O.jsx)("button",{className:"cart__btn",type:"button",onClick:function(){s(J())},children:"Clear cart"}),Object(O.jsx)("button",{className:"cart__btn",type:"button",onClick:function(){var A=JSON.stringify(o.books),e={Authorization:"Bearer ".concat(c.token)};b(!0),t(!0),j.a.post("https://js-band-store-api.glitch.me/purchase",{books:A},{headers:e}).then((function(){})).catch((function(){}))},children:"Purchase"})]})]})]}):Object(O.jsxs)("div",{className:"cart__empty",children:[Object(O.jsx)("img",{className:"cart__empty-image",src:"data:image/png;base64,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",alt:"empty cart"}),Object(O.jsx)("p",{className:"cart__empty-text",children:"Cart empty..."})]}),Object(O.jsx)(R,{isPopupOpen:d,handleCloseModal:function(){b(!1),t(!1),s(J())}})]})]})},L=function(){var A=Object(n.c)((function(A){return A})),t=A.books,e=A.cart,a=Object(n.b)(),c=Object(i.g)(),o=Object(i.h)().id,s=t.data.find((function(A){return A.id===o})),l=e.books.find((function(A){return A.book.id===o})),d=s.price,j=s.title,b=s.author,u=s.description,h=s.tags,m=s.cover;return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(N,{}),Object(O.jsxs)("div",{className:"detail",children:[Object(O.jsx)("h2",{className:"detail__title",children:"Detail"}),Object(O.jsxs)("div",{className:"detail__content",children:[Object(O.jsx)("div",{className:"detail__image-container",children:Object(O.jsx)("img",{className:"detail__image",src:m,alt:j})}),Object(O.jsxs)("div",{className:"detail__info",children:[Object(O.jsx)("h1",{className:"detail__info-title",children:j}),Object(O.jsx)("div",{className:"detail__info-tags",children:h.map((function(A){return Object(O.jsx)("span",{className:"detail__info-tag",children:A},A)}))}),Object(O.jsx)("p",{className:"detail__info-author",children:b}),Object(O.jsx)("p",{className:"detail__info-description",children:u}),Object(O.jsxs)("div",{className:"detail__footer",children:[Object(O.jsx)("p",{className:"detail__info-price",children:"Price: ".concat(d,"$")}),l?Object(O.jsx)(r.b,{to:"/cart",children:"The book is already in the cart."}):Object(O.jsx)("button",{className:"detail__btn",type:"button",onClick:function(){var A={book:s,totalCount:1,totalPrice:s.price};a({type:y,payload:A}),c.push("/cart")},children:"Add to cart"})]})]})]})]})]})},G=function(){var A=Object(n.c)((function(A){return A.user})).token,t=Object(a.useState)(!1),e=Object(l.a)(t,2),c=e[0],o=e[1];return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(r.a,{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{exact:!0,path:"/catalog",render:function(){return A?Object(O.jsx)(Z,{}):Object(O.jsx)(i.a,{to:"/login"})}}),Object(O.jsx)(i.b,{exact:!0,path:"/catalog/:id",render:function(){return A?Object(O.jsx)(L,{}):Object(O.jsx)(i.a,{to:"/login"})}}),Object(O.jsx)(i.b,{exact:!0,path:"/cart",render:function(){return A?Object(O.jsx)(P,{setIsOverlayOpen:o}):Object(O.jsx)(i.a,{to:"/login"})}}),Object(O.jsx)(i.b,{exact:!0,path:"/login",render:function(){return A?Object(O.jsx)(i.a,{to:"/catalog"}):Object(O.jsx)(p,{})}}),Object(O.jsx)(i.b,{exact:!0,path:"*",render:function(){return Object(O.jsx)(g,{})}})]})}),Object(O.jsx)("div",{className:"overlay ".concat(c?"overlay_active":void 0)})]})},B=e(13),q=e(37),w=e(25),W={data:[],isLoading:!1,error:null},V=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(w.a)(Object(w.a)({},A),{},{isLoading:!0});case T:return{data:t.payload,isLoading:!1,error:null};case D:return{data:[],isLoading:!1,error:t.payload};default:return A}},M=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},H=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload;case u:return{};default:return A}},Y=e(11),X=function(A){return A.reduce((function(A,t){return t.totalCount+A}),0)},z=function(A){return A.reduce((function(A,t){return t.totalPrice+A}),0)},$={books:[],totalCount:0,totalPrice:0},AA=function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{books:[].concat(Object(Y.a)(A.books),[t.payload]),totalCount:X([].concat(Object(Y.a)(A.books),[t.payload])),totalPrice:z([].concat(Object(Y.a)(A.books),[t.payload]))};case S:var e=Object(Y.a)(A.books).filter((function(A){return A.book.id!==t.payload}));return{books:e,totalCount:X(e),totalPrice:z(e)};case Q:var a=Object(Y.a)(A.books).find((function(A){return A.book.id===t.payload})),c=Object(Y.a)(A.books).indexOf(a),o={book:a.book,totalCount:a.totalCount+1,totalPrice:a.totalPrice+a.book.price},s=Object(Y.a)(A.books);return s[c]=o,{books:s,totalCount:X(s),totalPrice:z(s)};case K:var n=Object(Y.a)(A.books).find((function(A){return A.book.id===t.payload})),l=Object(Y.a)(A.books).indexOf(n),r={book:n.book,totalCount:n.totalCount-1,totalPrice:n.totalPrice-n.book.price},i=Object(Y.a)(A.books);return i[l]=r,{books:i,totalCount:X(i),totalPrice:z(i)};case E:return{books:[],totalCount:0,totalPrice:0};default:return A}},tA=Object(B.c)({books:V,user:H,cart:AA}),eA=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):B.d)(Object(B.a)(q.a)),aA=Object(B.e)(tA,eA);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(n.a,{store:aA,children:Object(O.jsx)(G,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.4ce44f57.chunk.js.map